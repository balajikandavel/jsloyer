<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Php on JeffSloyer.io</title>
    <link>http://www.jeffsloyer.io/tags/php/index.xml</link>
    <description>Recent content in Php on JeffSloyer.io</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>Code released under the Apache 2.0 license.</copyright>
    <atom:link href="http://www.jeffsloyer.io/tags/php/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Fixing common errors with the PHP Buildpack in Bluemix</title>
      <link>http://www.jeffsloyer.io/post/fixing-common-errors-with-the-php-buildpack-in-bluemix/</link>
      <pubDate>Wed, 26 Aug 2015 11:17:31 -0500</pubDate>
      
      <guid>http://www.jeffsloyer.io/post/fixing-common-errors-with-the-php-buildpack-in-bluemix/</guid>
      <description>&lt;p&gt;Following up from my &lt;a href=&#34;http://www.jeffsloyer.io/post/cloud-foundry-php-buildpack-doesnt-support-lucid64/&#34;&gt;previous post&lt;/a&gt;, Canonical recently dropped support for &lt;code&gt;lucid64&lt;/code&gt; which is Ubuntu 10.04 LTS. This affects Cloud Foundry as &lt;code&gt;lucid64&lt;/code&gt; is the basis for most buildpacks. In Cloud Foundry &lt;code&gt;lucid64&lt;/code&gt; is being phased out for Ubuntu 14.04 LTS which is known as &lt;code&gt;cflinuxfs2&lt;/code&gt; in Cloud Foundry.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Getting stacks in org jbsloyer@us.ibm.com / space dev as jbsloyer@us.ibm.com...
OK

name         description
lucid64      Ubuntu 10.04
cflinuxfs2   Ubuntu 14.04.2 trusty
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The PHP buildpack will take the default system buildpack and right now in Bluemix it is &lt;code&gt;lucid64&lt;/code&gt;. This will throw some errors when you try to push your PHP app, for example something like below.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;It looks like you&#39;re deploying on a stack (currently set to *lucid64*) that&#39;s not supported by this buildpack.
That could be because you&#39;re using a recent buildpack release on a deprecated stack.
If you&#39;re using the buildpack installed by your CF admin, please let your admin know you saw this error message.
If you at one point specified a buildpack that&#39;s at git URL, please make sure you&#39;re pointed at a version that supports this stack.
Staging failed: Buildpack compilation step failed

FAILED
BuildpackCompileFailed
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To fix it you just need to use the &lt;code&gt;-s cflinuxfs2&lt;/code&gt; argument for the &lt;code&gt;cf push&lt;/code&gt; command.
Ex.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cf push myapp -b https://github.com/cloudfoundry/php-buildpack.git -s cflinuxfs2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Check out this video for a walk through on how to fix the issue and an explanation of it.&lt;/p&gt;

&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/anJ1JUE1tgE&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;I would love to hear your feedback and any suggestions you have, please reach out to me on Twitter &lt;a href=&#34;https://twitter.com/jsloyer target=&#34;&gt;@jsloyer&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Common Deploy Errors with Community Buildpacks in Bluemix</title>
      <link>http://www.jeffsloyer.io/post/cloud-foundry-php-buildpack-doesnt-support-lucid64/</link>
      <pubDate>Wed, 29 Jul 2015 10:58:25 -0500</pubDate>
      
      <guid>http://www.jeffsloyer.io/post/cloud-foundry-php-buildpack-doesnt-support-lucid64/</guid>
      <description>&lt;p&gt;Recently the company that owns development for Ubuntu (Canonical) just announced it is dropping support for lucid 64 which is Ubuntu 10.04 LTS.  What does this mean for Cloud Foundry and the community buildpacks?&lt;/p&gt;

&lt;p&gt;Well nothing really but there is a couple gotcha&amp;rsquo;s you should know about.&lt;/p&gt;

&lt;p&gt;I have seen issues with the following buildpacks, this is not a comprehensive list but the ones I at least know about.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;PHP - &lt;a href=&#34;https://github.com/cloudfoundry/php-buildpack.git&#34;&gt;https://github.com/cloudfoundry/php-buildpack.git&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Static Build Pack - &lt;a href=&#34;https://github.com/cloudfoundry/staticfile-buildpack.git&#34;&gt;https://github.com/cloudfoundry/staticfile-buildpack.git&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These issues are documented in a couple StackOverflow posts but we are going to go through what is causing it and how to fix it.&lt;/p&gt;

&lt;!-- more --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://stackoverflow.com/questions/31057357/static-buildpack-deploy-now-failing-due-to-unsupported-stack/31058075#31058075&#34;&gt;Static Buildpack&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://stackoverflow.com/questions/31057357/static-buildpack-deploy-now-failing-due-to-unsupported-stack/31062482#31062482&#34;&gt;Static Buildpack&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If you are pushing an app to Cloud Foundry and getting an error message like the following there is a workaround you need to do to get the community buildpack&amp;rsquo;s to work.&lt;/p&gt;

&lt;p&gt;For example I have a super simple PHP app on Github I use for debugging, it is located here. For this blog post we are going to use that app.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git clone https://github.com/jsloyer/phpinfo.git
cd phpinfo
cf push phpinfo-jbs2 -b https://github.com/cloudfoundry/php-buildpack.git
.....
It looks like you&#39;re deploying on a stack (currently set to *lucid64*) that&#39;s not supported by this buildpack.
That could be because you&#39;re using a recent buildpack release on a deprecated stack.
If you&#39;re using the buildpack installed by your CF admin, please let your admin know you saw this error message.
If you at one point specified a buildpack that&#39;s at git URL, please make sure you&#39;re pointed at a version that supports this stack.
Staging failed: Buildpack compilation step failed

FAILED
BuildpackCompileFailed
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;What this is saying is the instance of Cloud Foundry that you are running on the default stack you get is an old version of Ubuntu. The PHP buildpack excepts the newer version of linux. This stack is called &lt;code&gt;cflinuxfs2&lt;/code&gt; also known as &lt;code&gt;Ubuntu 14.04&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;To work around this you just need to specify the stack you want to use.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cf push phpinfo-jbs2 -b https://github.com/cloudfoundry/php-buildpack.git -s cflinuxfs2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;More information can be found on this issue on &lt;a href=&#34;https://github.com/cloudfoundry/php-buildpack/issues/87&#34;&gt;Github&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>